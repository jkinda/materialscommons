<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mochawesome Report Card</title>
    
    <link rel="stylesheet" href="css/mochawesome.css">
  </head>
  <body>

    <!-- NAVBAR -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="report-info-cnt">
          <h1 class="report-title">materialscommons.org</h1>
          <h3 class="report-date">Friday, February 3 2017, 04:33pm</h3>
        </div>
        <div class="nav-right">
          <div class="quick-summary-cnt">
              <ul class="list-unstyled quick-summary">
                <li class="qs-item summary-duration" title="Duration">3.904<span>S</span></li>
                <li class="qs-item summary-suites" title="Suites">12</li>
                <li class="qs-item summary-tests" title="Tests">21</li>
                <li class="qs-item summary-passes" title="Passed" data-filter="passed">20</li>
                <li class="qs-item summary-failures" title="Failed" data-filter="failed">0</li>
                <li class="qs-item summary-pending" title="Pending" data-filter="pending">1</li>
              </ul>          </div>
          <button class="nav-menu-btn open-menu"><i class="icon-menu"></i></button>
        </div>
      </div>
    </div>

    <!-- Report Summary -->
    <div class="summary">
      <div class="container">
          <div class="row">
            <div class="summary-col summary-duration">
              <h1 class="summary-count">3.904<span>S</span></h1>
              <h4 class="summary-label">S</h4>
            </div>
            <div class="summary-col summary-suites" title="Suites">
              <h1 class="summary-count">12</h1>
              <h4 class="summary-label">Suites</h4>
            </div>
            <div class="summary-col summary-tests" title="Tests">
              <h1 class="summary-count">21</h1>
              <h4 class="summary-label">Tests</h4>
            </div>
            <div class="summary-col summary-passes" data-filter="passed" title="Passed">
              <h1 class="summary-count">20</h1>
              <h4 class="summary-label">Passed</h4>
            </div>
            <div class="summary-col summary-failures" data-filter="failed" title="Failed">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Failed</h4>
            </div>
            <div class="summary-col summary-pending" data-filter="pending" title="Pending">
              <h1 class="summary-count">1</h1>
              <h4 class="summary-label">Pending</h4>
            </div>
          </div>      </div>
    </div>
    <div class="statusbar">
      <div class="container">
          <div class="row">
            <div class="status-item status-item-pending-pct">4.8% Pending</div>
            <div class="status-item status-item-passing-pct success">100% Passing</div>
          </div>      </div>
    </div>

    <!-- Suites -->
    <div class="details container">
            <section class="suite-wrap">
          <div id="045a20a1-f20f-472c-bbed-f93387a4e7c6" class="suite has-suites">
            <h3 class="suite-title">Feature - directories: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/directories-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="3106cc0f-484a-41bf-9e3a-dd7283d2d512" class="suite has-tests has-passed">
            <h3 class="suite-title">Top level directory</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/directories-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="3106cc0f-484a-41bf-9e3a-dd7283d2d512" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">190 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#3106cc0f-484a-41bf-9e3a-dd7283d2d512-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="3106cc0f-484a-41bf-9e3a-dd7283d2d512-test-list" class="list-group test-list collapse in">
                    <div id="c66c5ccd-09af-4bd5-a53f-e4f9895137b2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              fetch top level directory from project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c66c5ccd-09af-4bd5-a53f-e4f9895137b2 > .test-code.collapse">Code</button>
              <span class="test-duration slow">110 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_list, found_project, project_id, top_directory;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context2.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context2.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context2.sent;<br>                            project = ret.val;<br>                            _context2.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> projects.forUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            project_list = _context2.sent;<br>                            found_project = <span class="hljs-literal">null</span>;<br>                            project_list.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (p.name == project_name) {<br>                                    found_project = p;<br>                                }<br>                            });<br>                            assert.isNotNull(found_project);<br>                            assert.equal(found_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(found_project.owner, user.id);<br>                            assert.equal(found_project.owner, user1Id);<br>                            project_id = project.id;<br>                            _context2.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            top_directory = _context2.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, found_project.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="32bb5fc5-3448-42df-8635-d6bb6b30c4bf" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              fetch top level directory by id
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#32bb5fc5-3448-42df-8635-d6bb6b30c4bf > .test-code.collapse">Code</button>
              <span class="test-duration slow">80 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, directory_id, directory;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context3.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context3.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context3.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context3.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context3.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project.name);<br>                            directory_id = top_directory.id;<br>                            _context3.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, directory_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            directory = _context3.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="be5f8fac-cf32-4ac8-89f4-55774d2d7f2e" class="suite has-tests has-passed">
            <h3 class="suite-title">Create directory</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/directories-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="be5f8fac-cf32-4ac8-89f4-55774d2d7f2e" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">677 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#be5f8fac-cf32-4ac8-89f4-55774d2d7f2e-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="be5f8fac-cf32-4ac8-89f4-55774d2d7f2e-test-list" class="list-group test-list collapse in">
                    <div id="4bbdad78-14bc-4369-8973-d4885e14206b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create directory path from top directory as /
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4bbdad78-14bc-4369-8973-d4885e14206b > .test-code.collapse">Code</button>
              <span class="test-duration slow">258 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context4.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context4.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context4.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context4.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context4.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context4.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context4.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6cecf3b6-3231-45af-8b4c-1f18db0d6f3d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create directory path from top directory as id
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6cecf3b6-3231-45af-8b4c-1f18db0d6f3d > .test-code.collapse">Code</button>
              <span class="test-duration slow">177 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context5.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context5.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context5.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context5.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context5.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context5.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: top_directory.id,<br>                                path: path<br>                            };<br>                            _context5.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context5.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2c108d16-6a39-4c1c-a557-99cc49902665" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create directory path from directory as path
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2c108d16-6a39-4c1c-a557-99cc49902665 > .test-code.collapse">Code</button>
              <span class="test-duration slow">242 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6$</span>(<span class="hljs-params">_context6</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context6.prev = _context6.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context6.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context6.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context6.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context6.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context6.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context6.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context6.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context6.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            from_dir = from_dir + path;<br>                            path = <span class="hljs-string">"D1/E1"</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context6.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            result = _context6.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1/D1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1/D1/E1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context6.stop();<br>                    }<br>                }<br>            }, _callee6, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="03f7c69d-619a-4fd4-8568-a320c000acec" class="suite has-tests has-passed">
            <h3 class="suite-title">Get directories</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/directories-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="03f7c69d-619a-4fd4-8568-a320c000acec" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">839 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#03f7c69d-619a-4fd4-8568-a320c000acec-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="03f7c69d-619a-4fd4-8568-a320c000acec-test-list" class="list-group test-list collapse in">
                    <div id="1b09d378-c940-47c4-ab5e-01b8c316ccb1" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Get all dirs in project and test for empty
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1b09d378-c940-47c4-ab5e-01b8c316ccb1 > .test-code.collapse">Code</button>
              <span class="test-duration slow">188 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7$</span>(<span class="hljs-params">_context7</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context7.prev = _context7.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context7.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context7.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context7.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context7.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context7.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context7.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context7.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context7.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            _context7.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            dir_list = _context7.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">4</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">3</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            _context7.t0 = assert;<br>                            _context7.next = <span class="hljs-number">36</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(dir_list[<span class="hljs-number">0</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:<br>                            _context7.t1 = _context7.sent;<br>                            _context7.t0.isFalse.call(_context7.t0, _context7.t1);<br>                            _context7.t2 = assert;<br>                            _context7.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(dir_list[<span class="hljs-number">1</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                            _context7.t3 = _context7.sent;<br>                            _context7.t2.isFalse.call(_context7.t2, _context7.t3);<br>                            _context7.t4 = assert;<br>                            _context7.next = <span class="hljs-number">46</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(dir_list[<span class="hljs-number">2</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">46</span>:<br>                            _context7.t5 = _context7.sent;<br>                            _context7.t4.isFalse.call(_context7.t4, _context7.t5);<br>                            _context7.t6 = assert;<br>                            _context7.next = <span class="hljs-number">51</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(dir_list[<span class="hljs-number">3</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">51</span>:<br>                            _context7.t7 = _context7.sent;<br>                            _context7.t6.isTrue.call(_context7.t6, _context7.t7);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">53</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context7.stop();<br>                    }<br>                }<br>            }, _callee7, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3d02bee2-49ee-45d4-85b0-eb3599941c07" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Subdir exists and test for empty
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3d02bee2-49ee-45d4-85b0-eb3599941c07 > .test-code.collapse">Code</button>
              <span class="test-duration slow">270 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee8</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list, directory, subdir;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee8$</span>(<span class="hljs-params">_context8</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context8.prev = _context8.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context8.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context8.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context8.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context8.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context8.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context8.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context8.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context8.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            directory = dir_list[<span class="hljs-number">0</span>];<br>                            _context8.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.subdirExists(directory.id, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            result = _context8.sent;<br>                            subdir = result[<span class="hljs-number">0</span>];<br>                            assert.equal(subdir.name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(subdir.parent, directory.id);<br>                            _context8.t0 = assert;<br>                            _context8.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(directory.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            _context8.t1 = _context8.sent;<br>                            _context8.t0.isFalse.call(_context8.t0, _context8.t1);<br>                            _context8.t2 = assert;<br>                            _context8.next = <span class="hljs-number">39</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(subdir.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                            _context8.t3 = _context8.sent;<br>                            _context8.t2.isTrue.call(_context8.t2, _context8.t3);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context8.stop();<br>                    }<br>                }<br>            }, _callee8, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6318d1be-2635-4c28-99a1-38a03e948f33" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Get sub-directories as peer_directories
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6318d1be-2635-4c28-99a1-38a03e948f33 > .test-code.collapse">Code</button>
              <span class="test-duration slow">206 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee9</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path1, path2, path3, dir_args1, dir_args2, dir_args3, result, dir_list, directory, dir_with_subs, subs, expected, missing;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee9$</span>(<span class="hljs-params">_context9</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context9.prev = _context9.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context9.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context9.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context9.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context9.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context9.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context9.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path1 = <span class="hljs-string">'A1/B1'</span>;<br>                            path2 = <span class="hljs-string">'A1/C1'</span>;<br>                            path3 = <span class="hljs-string">'A1/D1'</span>;<br>                            dir_args1 = {<br>                                from_dir: from_dir,<br>                                path: path1<br>                            };<br>                            dir_args2 = {<br>                                from_dir: from_dir,<br>                                path: path2<br>                            };<br>                            dir_args3 = {<br>                                from_dir: from_dir,<br>                                path: path3<br>                            };<br>                            _context9.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args1);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            _context9.next = <span class="hljs-number">24</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args2);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                            _context9.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args3);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            result = _context9.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/D1'</span>);<br>                            directory = dir_list[<span class="hljs-number">0</span>];<br>                            _context9.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> directories.peerDirectories(directory.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            dir_with_subs = _context9.sent;<br>                            assert.equal(dir_with_subs.name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_with_subs.name, directory.name);<br>                            assert.equal(dir_with_subs.id, directory.id);<br>                            assert.isTrue(dir_with_subs.hasOwnProperty(<span class="hljs-string">'peer_directories'</span>));<br>                            subs = dir_with_subs.peer_directories;<br>                            expected = [project_name + <span class="hljs-string">"/"</span> + path1, project_name + <span class="hljs-string">"/"</span> + path2, project_name + <span class="hljs-string">"/"</span> + path3];<br>                            missing = [];<br>                            expected.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target</span>) </span>{<br>                                <span class="hljs-keyword">var</span> found = <span class="hljs-literal">false</span>;<br>                                subs.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dir</span>) </span>{<br>                                    <span class="hljs-keyword">if</span> (dir.name == target) {<br>                                        found = <span class="hljs-literal">true</span>;<br>                                    }<br>                                });<br>                                <span class="hljs-keyword">if</span> (!found) missing.push(target);<br>                            });<br>                            assert.deepEqual(missing, [], <span class="hljs-string">"Should be empty list of missing expected values"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">45</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context9.stop();<br>                    }<br>                }<br>            }, _callee9, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1b7ce2df-7359-4bcf-b497-a9546a3ddf93" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Find in project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1b7ce2df-7359-4bcf-b497-a9546a3ddf93 > .test-code.collapse">Code</button>
              <span class="test-duration slow">175 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee10</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list, cross;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee10$</span>(<span class="hljs-params">_context10</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context10.prev = _context10.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context10.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context10.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context10.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context10.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context10.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context10.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context10.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context10.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            <span class="hljs-comment">// it appears from the code that case 1 does not work!</span><br>                            <span class="hljs-comment">// let dir1 = yield directories.findInProject(project_id,'','/A1/B1');</span><br>                            _context10.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.findInProject(project_id, <span class="hljs-string">''</span>, dir_list[<span class="hljs-number">1</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            cross = _context10.sent;<br>                            assert.isNotNull(cross);<br>                            assert.equal(cross.length, <span class="hljs-number">1</span>);<br>                            assert.equal(cross[<span class="hljs-number">0</span>].project_id, project_id);<br>                            <span class="hljs-comment">//            console.log(cross[0].datadir_id);</span><br>                            <span class="hljs-comment">//            let dir2 = yield directories.get(project_id,cross[0].datadir_id);</span><br>                            <span class="hljs-comment">//            console.log(dir2.name);</span><br>                            <span class="hljs-comment">//            assert.equal(dir2.name,project_name + '/A1/B1');</span><br>                            <span class="hljs-comment">//            assert.isFalse(yield directories.isEmpty(dir2.id));</span><br>                            <span class="hljs-comment">//            let child1 = dir2.children[0];</span><br>                            <span class="hljs-comment">//            assert.equal(child1.name,project_name + '/A1/B1/C1');</span><br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context10.stop();<br>                    }<br>                }<br>            }, _callee10, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="223ce8b4-abac-4f35-ab89-61d97dc5e073" class="suite has-tests has-passed">
            <h3 class="suite-title">Modifiy directories</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/directories-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="223ce8b4-abac-4f35-ab89-61d97dc5e073" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">566 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#223ce8b4-abac-4f35-ab89-61d97dc5e073-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="223ce8b4-abac-4f35-ab89-61d97dc5e073-test-list" class="list-group test-list collapse in">
                    <div id="bcaf311e-c198-42a9-90f4-9ebe85443a18" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Rename dir
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bcaf311e-c198-42a9-90f4-9ebe85443a18 > .test-code.collapse">Code</button>
              <span class="test-duration slow">140 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee11</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list, name, directory_id, rename_args, dir;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee11$</span>(<span class="hljs-params">_context11</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context11.prev = _context11.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context11.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context11.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context11.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context11.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context11.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context11.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context11.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context11.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">1</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            name = project_name + <span class="hljs-string">'/XX'</span>;<br>                            directory_id = dir_list[<span class="hljs-number">0</span>].id;<br>                            rename_args = {<br>                                rename: {<br>                                    new_name: name<br>                                }<br>                            };<br>                            _context11.next = <span class="hljs-number">28</span>;<br>                            <span class="hljs-keyword">return</span> directories.update(project_id, directory_id, rename_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:<br>                            _context11.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, directory_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            dir = _context11.sent;<br>                            assert.equal(dir.path, name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">32</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context11.stop();<br>                    }<br>                }<br>            }, _callee11, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2b4f0d3c-14ee-4fcf-969b-664efa73685d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Move dir
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2b4f0d3c-14ee-4fcf-969b-664efa73685d > .test-code.collapse">Code</button>
              <span class="test-duration slow">275 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee12</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path1, path2, dir_args1, dir_args2, result, dir_list, dir1_id, dir2_id, rename_args, dir3;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee12$</span>(<span class="hljs-params">_context12</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context12.prev = _context12.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context12.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context12.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context12.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context12.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context12.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context12.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path1 = <span class="hljs-string">'A1/B1'</span>;<br>                            path2 = <span class="hljs-string">'A1/C1'</span>;<br>                            dir_args1 = {<br>                                from_dir: from_dir,<br>                                path: path1<br>                            };<br>                            dir_args2 = {<br>                                from_dir: from_dir,<br>                                path: path2<br>                            };<br>                            _context12.next = <span class="hljs-number">20</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args1);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<br>                            result = _context12.sent;<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            dir1_id = dir_list[<span class="hljs-number">1</span>].id;<br>                            _context12.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args2);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            result = _context12.sent;<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/C1'</span>);<br>                            dir2_id = dir_list[<span class="hljs-number">1</span>].id;<br>                            rename_args = {<br>                                move: {<br>                                    new_directory_id: dir2_id<br>                                }<br>                            };<br>                            _context12.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> directories.update(project_id, dir1_id, rename_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            ret = _context12.sent;<br>                            dir3 = ret.val;<br>                            assert.equal(dir3.path, project_name + <span class="hljs-string">'/A1/C1/B1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context12.stop();<br>                    }<br>                }<br>            }, _callee12, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5da9b3bc-70e1-4c76-ae45-c3e5defd189f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Delete dir
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5da9b3bc-70e1-4c76-ae45-c3e5defd189f > .test-code.collapse">Code</button>
              <span class="test-duration slow">151 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee13</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list, directory_id, dir;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee13$</span>(<span class="hljs-params">_context13</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context13.prev = _context13.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context13.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context13.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context13.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context13.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context13.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context13.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context13.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context13.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">1</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            directory_id = dir_list[<span class="hljs-number">0</span>].id;<br>                            _context13.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, directory_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            dir = _context13.sent;<br>                            assert.isNotNull(dir);<br>                            _context13.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            dir_list = _context13.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            _context13.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> directories.remove(project_id, directory_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            ret = _context13.sent;<br>                            assert.isTrue(ret.val);<br>                            _context13.next = <span class="hljs-number">38</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<br>                            dir_list = _context13.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">40</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context13.stop();<br>                    }<br>                }<br>            }, _callee13, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="e130f348-fed6-41e9-898b-a28d899bb7ae" class="suite has-suites">
            <h3 class="suite-title">Feature - processes: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/processes-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="30455688-68de-43b2-acc6-4943e81c855d" class="suite has-tests has-pending">
            <h3 class="suite-title">Function level</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/processes-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="30455688-68de-43b2-acc6-4943e81c855d" class="suite-chart" width="50" height="50" data-total-passes="0" data-total-failures="0" data-total-pending="1" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">0 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">0</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">1</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#30455688-68de-43b2-acc6-4943e81c855d-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="30455688-68de-43b2-acc6-4943e81c855d-test-list" class="list-group test-list collapse in">
                    <div id="ec688e56-d028-4fbc-8edf-a2d52f065a21" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              feature level
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="57281fd2-ad55-4517-b81d-c1025052ba34" class="suite has-suites">
            <h3 class="suite-title">Feature - projects: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/projects-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="d379217f-d065-4044-b21f-0557b7e069f5" class="suite has-tests has-passed">
            <h3 class="suite-title">Create project</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/projects-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="d379217f-d065-4044-b21f-0557b7e069f5" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">324 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#d379217f-d065-4044-b21f-0557b7e069f5-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="d379217f-d065-4044-b21f-0557b7e069f5-test-list" class="list-group test-list collapse in">
                    <div id="1758e0bd-1d0c-42a0-a1c0-db854ecdcff8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project and get project back
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1758e0bd-1d0c-42a0-a1c0-db854ecdcff8 > .test-code.collapse">Code</button>
              <span class="test-duration medium">67 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context2.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context2.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context2.sent;<br>                            project = ret.val;<br>                            assert.equal(project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(project.name, project_name);<br>                            assert.equal(project.owner, user.id);<br>                            assert.equal(project.owner, user1Id);<br>                            assert.equal(project.users.length, <span class="hljs-number">1</span>);<br>                            assert.equal(project.users[<span class="hljs-number">0</span>].user_id, user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b30cc4c2-7477-4744-9918-5c4f80fec4d5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project and find project in all projects
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b30cc4c2-7477-4744-9918-5c4f80fec4d5 > .test-code.collapse">Code</button>
              <span class="test-duration slow">86 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_list, found_project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context3.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context3.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context3.sent;<br>                            project = ret.val;<br>                            assert.equal(project.name, project_name);<br>                            assert.equal(project.users[<span class="hljs-number">0</span>].user_id, user1Id);<br>                            _context3.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> projects.all();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            project_list = _context3.sent;<br>                            found_project = <span class="hljs-literal">null</span>;<br>                            project_list.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (p.name == project_name) {<br>                                    found_project = p;<br>                                }<br>                            });<br>                            assert.isNotNull(found_project);<br>                            assert.equal(found_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(found_project.owner, user.id);<br>                            assert.equal(found_project.owner, user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="47a8335e-1b49-4456-b943-e3dac86d0f29" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project and find project by user
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#47a8335e-1b49-4456-b943-e3dac86d0f29 > .test-code.collapse">Code</button>
              <span class="test-duration slow">83 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_list, found_project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context4.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context4.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context4.sent;<br>                            project = ret.val;<br>                            assert.equal(project.name, project_name);<br>                            assert.equal(project.users[<span class="hljs-number">0</span>].user_id, user1Id);<br>                            _context4.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> projects.forUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            project_list = _context4.sent;<br>                            found_project = <span class="hljs-literal">null</span>;<br>                            project_list.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (p.name == project_name) {<br>                                    found_project = p;<br>                                }<br>                            });<br>                            assert.isNotNull(found_project);<br>                            assert.equal(found_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(found_project.owner, user.id);<br>                            assert.equal(found_project.owner, user1Id);<br>                            assert.equal(found_project.users.length, <span class="hljs-number">1</span>);<br>                            <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> field is user, here, but user_id in test above!!!</span><br>                            <span class="hljs-comment">// is this the correct behaivor???</span><br>                            assert.equal(found_project.users[<span class="hljs-number">0</span>].user, user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="88da26b6-7a75-460a-a720-e4c84ad1fc51" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project, find by user, has full set of properties
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#88da26b6-7a75-460a-a720-e4c84ad1fc51 > .test-code.collapse">Code</button>
              <span class="test-duration slow">88 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_list, found_project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context5.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context5.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context5.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context5.sent;<br>                            project = ret.val;<br>                            _context5.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> projects.forUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            project_list = _context5.sent;<br>                            found_project = <span class="hljs-literal">null</span>;<br>                            project_list.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (p.name == project_name) {<br>                                    found_project = p;<br>                                }<br>                            });<br>                            assert.isNotNull(found_project);<br>                            assert.equal(found_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(found_project.owner, user.id);<br>                            assert.equal(found_project.owner, user1Id);<br>                            assert.equal(found_project.users.length, <span class="hljs-number">1</span>);<br>                            assert.equal(found_project.users[<span class="hljs-number">0</span>].user, user1Id);<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'events'</span>));<br>                            assert.equal(found_project.events.length, <span class="hljs-number">0</span>);<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'processes'</span>));<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'samples'</span>));<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'files'</span>));<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'experiments'</span>));<br>                            assert.equal(found_project.processes, <span class="hljs-number">0</span>);<br>                            assert.equal(found_project.samples, <span class="hljs-number">0</span>);<br>                            assert.equal(found_project.files, <span class="hljs-number">0</span>);<br>                            assert.equal(found_project.experiments, <span class="hljs-number">0</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="ddca946d-facd-427e-9fe0-2283e19fa314" class="suite has-tests has-passed">
            <h3 class="suite-title">Update project</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/projects-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="ddca946d-facd-427e-9fe0-2283e19fa314" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">89 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#ddca946d-facd-427e-9fe0-2283e19fa314-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="ddca946d-facd-427e-9fe0-2283e19fa314-test-list" class="list-group test-list collapse in">
                    <div id="91674afc-7d13-4608-bd9a-bb5e29daa20e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project, update name and description
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#91674afc-7d13-4608-bd9a-bb5e29daa20e > .test-code.collapse">Code</button>
              <span class="test-duration slow">89 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, name, description, update_attrs, updated_project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6$</span>(<span class="hljs-params">_context6</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context6.prev = _context6.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context6.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context6.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context6.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context6.sent;<br>                            project = ret.val;<br>                            assert.equal(project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(project.name, project_name);<br>                            assert.equal(project.owner, user1Id);<br>                            name = <span class="hljs-string">"Another Name"</span>;<br>                            description = <span class="hljs-string">"An alternate description"</span>;<br>                            update_attrs = {<br>                                name: name,<br>                                description: description<br>                            };<br>                            _context6.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> projects.update(project.id, update_attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            updated_project = _context6.sent;<br>                            assert.equal(updated_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(updated_project.owner, user1Id);<br>                            assert.equal(updated_project.name, name);<br>                            assert.equal(updated_project.description, description);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context6.stop();<br>                    }<br>                }<br>            }, _callee6, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="be5e52f1-0275-47f9-bb55-5e2f99053306" class="suite has-suites">
            <h3 class="suite-title">Feature - reset lost password: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/reset-lost-password-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="cc1f94ab-f707-488c-b9f4-035c3b040eb6" class="suite has-tests has-passed">
            <h3 class="suite-title">User with reset_password flag</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/specs/reset-lost-password-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="cc1f94ab-f707-488c-b9f4-035c3b040eb6" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">58 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#cc1f94ab-f707-488c-b9f4-035c3b040eb6-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="cc1f94ab-f707-488c-b9f4-035c3b040eb6-test-list" class="list-group test-list collapse in">
                    <div id="4fb2a42c-ae19-48ce-b07c-f0c8a7a324cb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              there is a user for testing
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4fb2a42c-ae19-48ce-b07c-f0c8a7a324cb > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context2.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user is not null"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="00aea6ee-57e4-4de2-9541-b298449a48ad" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              User with the reset password flag set
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#00aea6ee-57e4-4de2-9541-b298449a48ad > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, validate_uuid, result;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context3.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user is not null"</span>);<br>                            _context3.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> r.uuid();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            validate_uuid = _context3.sent;<br>                            _context3.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.setUserPasswordResetFlag(user1Id, validate_uuid);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            result = _context3.sent;<br>                            assert.equal(result.replaced, <span class="hljs-number">1</span>, <span class="hljs-string">"The flag was correctly added to the user"</span>);<br>                            _context3.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            user = _context3.sent;<br>                            assert.isTrue(user.reset_password, <span class="hljs-string">"The flag is set"</span>);<br>                            assert.equal(user.validate_uuid, validate_uuid);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3d7c73cc-865f-4234-900d-a2a57315f68c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              User reset password flag is cleared
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3d7c73cc-865f-4234-900d-a2a57315f68c > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, result;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context4.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user is not null"</span>);<br>                            _context4.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.setUserPasswordResetFlag(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            result = _context4.sent;<br>                            assert.equal(result.replaced, <span class="hljs-number">1</span>, <span class="hljs-string">"The flag was correctly added to the user"</span>);<br>                            _context4.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            user = _context4.sent;<br>                            assert.isTrue(user.reset_password);<br>                            _context4.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.clearUserPasswordResetFlag(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            result = _context4.sent;<br>                            assert.equal(result.replaced, <span class="hljs-number">1</span>, <span class="hljs-string">"The flag was correctly cleared from the user"</span>);<br>                            _context4.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            user = _context4.sent;<br>                            assert.isUndefined(user.reset_password, <span class="hljs-string">"The flag is cleared"</span>);<br>                            assert.isUndefined(user.validate_uuid, <span class="hljs-string">"The flag is cleared"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
    </div>

    <footer>
      <div class="container">
        <p>Report generated by <a href="http://adamgruber.github.io/mochawesome/" target="_blank">mochawesome</a>.<br>Designed and built by <a href="https://github.com/adamgruber" target="_blank">adamgruber</a>. &copy;2017.</p>
      </div>
    </footer>

    <!-- Nav Menu -->
    <div class="nav-menu-wrap">
      <div class="menu-overlay close-menu"></div>
      <nav class="menu">
        <button class="nav-menu-btn close-menu"><i class="icon-failed"></i></button>
        <ul class="list-unstyled main-menu">
                <li class="nav-menu-item">
                <a href="#045a20a1-f20f-472c-bbed-f93387a4e7c6" class="nav-menu-item-link">Feature - directories: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#3106cc0f-484a-41bf-9e3a-dd7283d2d512" class="nav-menu-item-link has-passes">Top level directory</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#be5f8fac-cf32-4ac8-89f4-55774d2d7f2e" class="nav-menu-item-link has-passes">Create directory</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#03f7c69d-619a-4fd4-8568-a320c000acec" class="nav-menu-item-link has-passes">Get directories</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#223ce8b4-abac-4f35-ab89-61d97dc5e073" class="nav-menu-item-link has-passes">Modifiy directories</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#e130f348-fed6-41e9-898b-a28d899bb7ae" class="nav-menu-item-link">Feature - processes: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#30455688-68de-43b2-acc6-4943e81c855d" class="nav-menu-item-link has-pending">Function level</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#57281fd2-ad55-4517-b81d-c1025052ba34" class="nav-menu-item-link">Feature - projects: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#d379217f-d065-4044-b21f-0557b7e069f5" class="nav-menu-item-link has-passes">Create project</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#ddca946d-facd-427e-9fe0-2283e19fa314" class="nav-menu-item-link has-passes">Update project</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#be5e52f1-0275-47f9-bb55-5e2f99053306" class="nav-menu-item-link">Feature - reset lost password: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#cc1f94ab-f707-488c-b9f4-035c3b040eb6" class="nav-menu-item-link has-passes">User with reset_password flag</a>
            </li>
                  </ul>
            </li>
        </ul>
      </nav>
    </div>

    <!-- Scripts -->
    <script src="js/vendor.js"></script>
    <script src="js/mochawesome.js"></script>
  </body>
</html>

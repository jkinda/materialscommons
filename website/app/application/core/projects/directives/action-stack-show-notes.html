<div class="row">
    <div class="col-lg-offset-2">
        <h4>Notes</h4>

        <div class="row" ng-repeat="n in project.notes | orderBy: date">
            <div ng-if="edit_index==$index">
                <text-editor text="n.message">
                    <br>
                    <button ng-click="saveNotes($index)" class="btn btn-default btn-primary">Save</button>
            </div>
            <div ng-if="edit_index!==$index">
                <div ta-bind ng-model="n.message"></div>
            </div>
            <div class="text-muted sub-text">
                {{n.date}} --- {{n.who}}
            </div>
            <div ng-if="edit_index!==$index">
                <a ng-click="editNotes($index)">edit</a>
            </div>
            <hr/>
        </div>
        <div class="row" ng-if="project.notes.length == 0">
            <p class="text-muted">There are no notes</p>
        </div>
        <button action-stack class="btn btn-danger" ng-click="toggleStackAction('show-notes')">
            Close
        </button>
    </div>
</div>

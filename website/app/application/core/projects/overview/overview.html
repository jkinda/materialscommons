<br>
<div ng-controller="projectsOverview">
    <div class="row">
        <div class="col-lg-2">
            Make this align
            <div class="panel panel-default">
                <div class="panel-heading" ng-style="{'background-color': currentProjectColor}">
                     <span> <i class="fa fa-tags"/> Tags</span>
                </div>
                <div class="panel-body">
                    <div ng-repeat="t in u_tags">
                        <div class="row">
                            <div class="col-sm-1">
                                <i  class="fa fa-tag" style="color: {{t.color}}"></i>
                            </div>
                            <div class="col-sm-offset-2">
                                {{t.name}}
                            </div>
                        </div>
                    </div>
                    <input class="form-control input-sm" ng-model="bk.name">
                    <select class="form-control" ng-model="bk.color">
                        <option value="">Highlight</option>
                        <option value="#FF0000" style="background-color: red;">Red</option>
                        <option value="#0000FF" style="background-color: Blue;">Blue</option>
                        <option value="#008000" style="background-color: green;">Green</option>
                        <option value="#FFFF00" style="background-color: #ffff00;">Yellow</option>
                        <option value="#9370DB" style="background-color: mediumpurple;">Purple</option>
                        <option value="#EE82EE" style="background-color: Violet;">Violet</option>
                    </select>
                    <button ng-click="createTag()">New</button>
                </div>
            </div>
        </div>
        <div>
            <span class="col-lg-offset-1 col-lg-3"><i class="fa fa-lock"></i> {{project.name}}</span>
            <span class="col-lg-4">Created by {{project.owner}} on {{project.birthtime | toDateString}}</span>
        </div>


        <div class="col-lg-8">

            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-heading" ng-style="{'background-color': currentProjectColor}">
                        <div class="row">
                            <span class="col-lg-offset-1 col-lg-2">
                                <i class="fa fa-users"/>
                                <a data-toggle="modal" data-target="#contributors" style="color: white" class="action-link"> {{project.users.length}}
                                    contributors</a>
                            </span>
                            <span class="col-lg-3">
                                <i class="fa fa-exclamation-circle"/>
                                0 events
                            </span>
                            <span class="col-lg-3">
                                <i class="fa fa-share"/> Shared with <a data-toggle="modal" data-target="#shares" style="color: white" class="action-link">{{project.shares.length}}
                                    Project(s)</a>
                            </span>
                            <span class="col-lg-3">
                                <i class="fa fa-mail-reply"/> Uses <a data-toggle="modal" data-target="#uses" style="color:white" class="action-link">{{project.uses.length}}
                                    Project(s)</a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div ui-view></div>
        </div>
        <div class="col-lg-2">
            <div class="individual-items">
                <ul class="nav nav-tabs tabs-right overview-tabs" style="border-left-width: 3px; border-left-style: solid; border-radius: 0 0 0 0;" ng-style="{'border-left-color': currentProjectColor}">
                    <li class="active">
                        <a ng-click="showTab('files')" data-toggle="tab"
                           ng-style="isActive('files') && {'background-color': currentProjectColor, color: 'white', 'font-weight': 'bold'} || !isActive('files') && {'background-color': currentProjectColorLight, color: '#9fadbc', 'font-weight': 'bold'}">
                            <i class="fa fa-file-text"/>
                            Files
                        </a>
                    </li>
                    <li>
                        <a ng-click="showTab('samples')" data-toggle="tab"
                           ng-style="isActive('samples') && {'background-color': currentProjectColor, color: 'white', 'font-weight': 'bold'} || !isActive('samples') && {'background-color': currentProjectColorLight, color: '#9fadbc', 'font-weight': 'bold'}">
                            <i class="fa fa-cubes"/>
                            Samples
                        </a>
                    </li>
                    <li>
                        <a ng-click="showTab('provenance')" data-toggle="tab"
                           ng-style="isActive('provenance') && {'background-color': currentProjectColor, color: 'white', 'font-weight': 'bold'} || !isActive('provenance') && {'background-color': currentProjectColorLight, color: '#9fadbc', 'font-weight': 'bold'}">
                            <i class="fa fa-code-fork"/>
                            Provenance
                        </a>
                    </li>
                    <li>
                        <a ng-click="showTab('reviews')" data-toggle="tab"
                           ng-style="isActive('reviews') && {'background-color': currentProjectColor, color: 'white', 'font-weight': 'bold'} || !isActive('reviews') && {'background-color': currentProjectColorLight, color: '#9fadbc', 'font-weight': 'bold'}">
                            <i class="fa fa-comment"></i>
                            Reviews
                            <span class="pull-right badge">{{open_reviews.length}}</span>
                        </a>
                    </li>
                    <li>
                        <a ng-click="showTab('drafts')" data-toggle="tab"
                           ng-style="isActive('drafts') && {'background-color': currentProjectColor, color: 'white', 'font-weight': 'bold'} || !isActive('drafts') && {'background-color': currentProjectColorLight, color: '#9fadbc', 'font-weight': 'bold'}">
                            <i class="fa fa-copy"/>
                            Drafts
                            <span class="pull-right badge">{{drafts.length}}</span>
                        </a>
                    </li>
                    <li>
                        <a ng-click="showTab('notes')" data-toggle="tab"
                           ng-style="isActive('notes') && {'background-color': currentProjectColor, color: 'white', 'font-weight': 'bold'} || !isActive('notes') && {'background-color': currentProjectColorLight, color: '#9fadbc', 'font-weight': 'bold'}">
                            <i class="fa fa-edit"/>
                            Notes
                            <span class="pull-right badge">{{project.notes.length}}</span>
                        </a>
                    </li>
                    <li>
                        <a ng-click="showTab('settings')" data-toggle="tab"
                           ng-style="isActive('settings') && {'background-color': currentProjectColor, color: 'white', 'font-weight': 'bold'} || !isActive('settings') && {'background-color': currentProjectColorLight, color: '#9fadbc', 'font-weight': 'bold'}">
                            <i class="fa fa-cogs"/>
                            Settings
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Modal for contributors -->
    <div class="modal fade" id="contributors" tabindex="-1" role="dialog" aria-labelledby="contributorsLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Contributors</h4>
                </div>
                <div class="modal-body">
                    <ul>
                        <li ng-repeat="user in project.users | orderBy: 'toString()'">{{user.user_id}}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for uses -->
    <div class="modal fade" id="uses" tabindex="-1" role="dialog" aria-labelledby="contributorsLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Shared from other projects</h4>
                </div>
                <div class="modal-body">
                    <p ng-if="project.uses.length === 0">This project doesn't use items from other projects.</p>
                    <ul>
                        <li ng-repeat="usedItem in project.uses">Sample '{{usedItem.name}}' is from project:
                            {{usedItem.other_project.name}}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for shares -->
    <div class="modal fade" id="shares" tabindex="-1" role="dialog" aria-labelledby="contributorsLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Shared with other projects</h4>
                </div>
                <div class="modal-body">
                    <p ng-if="project.shares.length === 0">This project doesn't share items with other projects.</p>
                    <ul>
                        <li ng-repeat="sharedItem in project.shares">Project '{{sharedItem.other_project.name}}' uses
                            sample: {{sharedItem.name}}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div ng-controller="projectOverview">
    <tab-control-bar>
        <div class="col-xs-offset-1">
            <div class="col-xs-8">
                <ul class="list-inline menu-bar">
                    <li>
                        <a class="action-link project-sub-action">
                            <i class="fa fa-bars"></i> Details
                        </a>
                    </li>
                    <li>
                        <a class="action-link project-sub-action">
                            <i class="fa fa-group"></i> Permissions
                        </a>
                    </li>
                    <li>
                        <a class="action-link project-sub-action">
                            <i class="fa fa-bar-chart"></i> Statistics
                        </a>
                    </li>
                    <li>
                        <a class="action-link project-sub-action">
                            <i class="fa fa-clock-o"></i> Events
                        </a>
                    </li>
                    <li>
                        <a class="action-link project-sub-action">
                            <i class="fa fa-gears"></i> Preferences
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </tab-control-bar>
    <div class="row">
        <div class="col-xs-offset-3">
            <ul class="list-inline">
                <li>
                    <span>
                        <i class="fa fa-users"/>
                        <a data-toggle="modal" data-target="#contributors">
                            <strong>{{project.users.length}} contributors</strong>
                        </a>
                    </span>
                </li>

                <li>
                    <span>
                        <i class="fa fa-share"/> Shared with
                        <a data-toggle="modal"
                           data-target="#shares">
                            <strong>{{project.shares.length}} Project(s)</strong>
                        </a>
                    </span>
                </li>

                <li>
                    <span>
                        <i class="fa fa-mail-reply"/>
                        Uses
                        <a data-toggle="modal"
                           data-target="#uses">
                            <strong>{{project.uses.length}} Project(s)</strong>
                        </a>
                    </span>
                </li>
            </ul>
        </div>
    </div>
    <!-- Modal for contributors -->
    <div class="modal fade" id="contributors" tabindex="-1" role="dialog" aria-labelledby="contributorsLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Contributors</h4>
                </div>
                <div class="modal-body">
                    <ul>
                        <li ng-repeat="user in project.users | orderBy: 'toString()'">{{user.user_id}}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for uses -->
    <div class="modal fade" id="uses" tabindex="-1" role="dialog" aria-labelledby="contributorsLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Shared from other projects</h4>
                </div>
                <div class="modal-body">
                    <p ng-if="project.uses.length === 0">This project doesn't use items from other projects.</p>
                    <ul>
                        <li ng-repeat="usedItem in project.uses">Sample '{{usedItem.name}}' is from project:
                            {{usedItem.other_project.name}}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for shares -->
    <div class="modal fade" id="shares" tabindex="-1" role="dialog" aria-labelledby="contributorsLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Shared with other projects</h4>
                </div>
                <div class="modal-body">
                    <p ng-if="project.shares.length === 0">This project doesn't share items with other projects.</p>
                    <ul>
                        <li ng-repeat="sharedItem in project.shares">Project '{{sharedItem.other_project.name}}' uses
                            sample: {{sharedItem.name}}
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

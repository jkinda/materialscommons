<div class="row take-parent-height">
    <div class="col-xs-3 sidebar take-parent-height">
        <div class="row">
            <div class="col-sm-12">
                <a class="pull-right" ui-sref="projects.project.reviews.create">Create New Review</a>
            </div>
        </div>
        <br>

        <div class="row">
            <div class="col-sm-12">
                <a ng-click="ctrl.listReviewsByType('my_reviews')" class="pull-right text-muted padding-left-15"><i
                        class="fa fa-fw fa-user"></i> My Reviews</a>
                <a ng-click="ctrl.listReviewsByType('due')" class="pull-right text-muted padding-left-15"><i
                        class="fa fa-fw fa-exclamation-circle text-danger"></i>Due</a>
                <a ng-click="ctrl.listReviewsByType('closed')" class="pull-right text-muted padding-left-15"><i
                        class="fa fa-fw fa-archive"></i>Archived</a>
                <a ng-click="ctrl.listReviewsByType('all')" class="pull-right text-muted padding-left-15"><i
                        class="fa fa-fw fa-list"></i>All</a>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <input placeholder="Search all..." class="form-control" ng-model="search">
            </div>
        </div>

        <ul ng-if="ctrl.reviews.length !== 0" class="list-group">
            <li class="list-group-item pointer no-padding no-position"
                ng-repeat="r in ctrl.reviews"
                ng-class="{active: review.id === r.id}"
                ui-sref="projects.project.reviews.list.view({'review_id': r.id})">
                <p class="heading">{{r.title}}</p>

                <div class="text-muted truncate-text" ta-bind ng-model="r.messages[0].message"></div>
                <div class="row counts">
                    <span><i
                            class="fa fa-fw fa-cubes sample"></i>{{(r.attachments | byKey: 'type': 'sample').length}}</span>
                    <span class="padding-left-15"><i class="fa fa-fw fa-code-fork process"></i>{{(r.attachments | byKey: 'type': 'process').length}}  </span>
                    <span class="padding-left-15"><i class="fa fa-fw fa-files-o file"></i>{{(r.attachments | byKey: 'type': 'file').length}}    </span>
                    <span class="pull-right"><i class="fa fa-fw fa-comments-o review"></i>{{r.messages.length}}</span>
                </div>
            </li>
        </ul>
        <h4 ng-if="ctrl.reviews.length === 0" class="text-center text-uppercase">
            --None--
        </h4>
    </div>
    <div class="col-xs-9 no-padding take-parent-height">
        <div class="take-parent-height" ui-view></div>
    </div>
</div>




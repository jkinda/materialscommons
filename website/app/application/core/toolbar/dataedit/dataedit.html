<div ng-controller="toolbarDataEdit">
    <h2>Datafile</h2>

    <div class="row-fluid">
        <div class="span4">
            <img src="assets/img/2H-10X1.JPG">
        </div>
        <div class="span8">

        </div>
    </div>
    <br>

    <div class="row-fluid">
        <div class="tabbable tabs-right">
            <ul class="nav nav-tabs">
                <li class="active"><a href="#review" data-toggle="tab">Reviews</a></li>
                <li><a href="#tags" data-toggle="tab">Tags</a></li>
                <li><a href="#notes" data-toggle="tab">Notes</a></li>
                <li><a href="#provenance" data-toggle="tab">Provenance</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="review">
                    <h3>Reviews:</h3>
                    <table class="table table-striped mc-table-hover table-condensed mc-table">
                        <thead>
                        <tr>
                        <th>Requested by</th>
                        <th>Requested To</th>
                        <th>Message</th>
                        <th>Created on</th>
                        <th>Status</th>
                        <th>Mark as Done</th>
                        </thead>
                        <tbody>
                        <tr ng-repeat="review in all_reviews" style="cursor:pointer">
                            <td>{{ review.requested_by }}</td>
                            <td>{{ review.requested_to }}</td>
                            <td>{{ review.note }}</td>
                            <td>{{ review.marked_on | toDateString }}</td>
                            <td>{{review.status}}</td>
                            <td ng-show="review.requested_to==signed_user">
                                <input type="checkbox" ng-model="review.status" ng-click="reviewStatusChanged($index)"
                                       ng-true-value="Finished" ng-false-value="InProcess">
                            </td>

                            <td ng-hide="review.requested_to==signed_user">
                                Not Authorized
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <!--<div review-table></div>-->
                    <h4>Mark For Followup</h4>
                    <input type="text" ng-model="review_note_self"
                           ui-keypress="{13: 'addReviewNoteKeypressCallback($event)'}"
                           placeholder="Review Note...">

                    <h4>Request to Review</h4>
                    <input type="text" ng-model="review_note_other" placeholder="Review Note...">
                    <select ng-model="user_for_review"
                            ui-select2="{placeholder: 'Select user', allowClear: true, width:'element'}"
                            ng-multiple="false">
                        <option></option>
                        <option ng-repeat="user in users">{{ user }}</option>
                    </select>
                    <button style="position:absolute" ng-click="addReviewForOther()">Request Review</button>
                </div>
                <div class="tab-pane" id="tags">
                    <h4>Tags</h4>

                    <div id="tags-section" class="row-fluid">
                        <div class="well">
                            <h4>Create/Edit Tags</h4>
                                    <span class="label label-info" style="margin-left: 5px" ng-repeat="tag in doc.tags">
                                        <button type="button" class="close"
                                                ng-click="removeTag($index);">&times;</button>{{ tag }}
                                    </span>

                            <form class="form-horizontal">
                                <input ui-keypress="{13: 'addTagKeypressCallback($event)'}" ng-model="new_tag"
                                       placeholder="Tag...">
                                <label>Tags to add</label>
                                <select ng-model="tag_to_add"
                                        ui-select2="{placeholder: 'Select tag', allowClear: true, width:'element'}"
                                        ng-multiple="false">
                                    <option></option>
                                    <option ng-repeat="tag in tagchoices">{{ tag }}</option>
                                </select>
                                <button ng-click="addTag()" class="btn btn-info">Add</button>
                            </form>
                            <!--<div select-tag tag-choices="tagchoices"></div>-->
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="notes">
                    <h4>Notes</h4>

                </div>
                <div class="tab-pane" id="provenance">
                    Tab with something else
                </div>
            </div>
        </div>
    </div>
</div>


<!--<div ng-controller="toolbarDataEdit">-->
<!--<div class="span12 offset1">-->
<!--<h3>Edit Data</h3>-->

<!--See Reviews: <input type="checkbox" ng-model="seeReviews">-->
<!--See Tags: <input type="checkbox" ng-model="seeTags">-->

<!--<div class="row-fluid">-->
<!--<div ng-show="seeReviews==true" id="review-section" class="row-fluid">-->
<!--<div class="well" ng-controller="toolbarDataEditCreateReview">-->
<!--<h4>Reviews Scheduled</h4>-->

<!--<table class="table table-striped mc-table-hover table-condensed mc-table">-->
<!--<thead>-->
<!--<tr>-->
<!--<th>Requested by</th>-->
<!--<th>Requested To</th>-->
<!--<th>Message</th>-->
<!--<th>Created on</th>-->
<!--<th>Status</th>-->
<!--<th>Mark as Done</th>-->
<!--</thead>-->
<!--<tbody>-->
<!--<tr ng-repeat="review in all_reviews" style="cursor:pointer">-->
<!--<td>{{ review.requested_by }}</td>-->
<!--<td>{{ review.requested_to }}</td>-->
<!--<td>{{ review.note }}</td>-->
<!--<td>{{ review.marked_on | toDateString }}</td>-->
<!--<td>{{review.status}}</td>-->
<!--<td ng-show="review.requested_to==signed_user">-->
<!--<input type="checkbox" ng-model="review.status" ng-click="reviewStatusChanged($index)"-->
<!--ng-true-value="Finished" ng-false-value="InProcess">-->
<!--</td>-->

<!--<td ng-hide="review.requested_to==signed_user">-->
<!--Not Authorized-->
<!--</td>-->
<!--</tr>-->
<!--</tbody>-->
<!--</table>-->
<!--<h4>Mark For Followup</h4>-->
<!--<input type="text" ng-model="review_note_self"-->
<!--ui-keypress="{13: 'addReviewNoteKeypressCallback($event)'}"-->
<!--placeholder="Review Note...">-->

<!--<h4>Request to Review</h4>-->
<!--<input type="text" ng-model="review_note_other" placeholder="Review Note...">-->
<!--<select ng-model="user_for_review"-->
<!--ui-select2="{placeholder: 'Select user', allowClear: true, width:'element'}"-->
<!--ng-multiple="false">-->
<!--<option></option>-->
<!--<option ng-repeat="user in users">{{ user }}</option>-->
<!--</select>-->
<!--<button style="position:absolute" ng-click="addReviewForOther()">Request Review</button>-->
<!--</div>-->
<!--</div>-->

<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--<div class="row-fluid">-->
<!--<div ng-show="seeTags" id="tags-section" class="row-fluid">-->
<!--<div class="well">-->
<!--<h4>Create/Edit Tags</h4>-->
<!--<span class="label label-info" style="margin-left: 5px" ng-repeat="tag in doc.tags">-->
<!--<button type="button" class="close" ng-click="removeTag($index);">&times;</button>{{ tag }}-->
<!--</span>-->

<!--<form class="form-horizontal">-->
<!--<input ui-keypress="{13: 'addTagKeypressCallback($event)'}" ng-model="new_tag"-->
<!--placeholder="Tag...">-->
<!--<label>Tags to add</label>-->
<!--<select ng-model="tag_to_add"-->
<!--ui-select2="{placeholder: 'Select tag', allowClear: true, width:'element'}"-->
<!--ng-multiple="false">-->
<!--<option></option>-->
<!--<option ng-repeat="tag in tagchoices">{{ tag }}</option>-->
<!--</select>-->
<!--<button ng-click="addTag()" class="btn btn-info">Add</button>-->
<!--</form>-->
<!--</div>-->
<!--</div>-->

<!--<hr/>-->
<!--<div class="row-fluid">-->
<!--<div class="span6">-->
<!--<div class="">-->
<!--<h4>Basic Information</h4>-->
<!--Name:<br><input ng-model="doc.name" type="text" readonly><br>-->
<!--Date Added:<br><input value="{{ doc.birthtime | toDateString }}" type="text" readonly><br>-->
<!--Owner:<br><input ng-model="doc.owner" type="text" readonly><br>-->
<!--Access:<br><input ng-model="doc.access" type="text" readonly><br>-->
<!--Add Note:<br><textarea class="input-xlarge span10" rows="4" ng-model="new_note"/>-->
<!--<button ng-click="add_notes()" ng-disabled="!new_note" class="btn btn-info">Add</button>-->
<!--<br>-->
<!--Notes: <br>-->
<!--<li ng-repeat="note in doc.notes">-->
<!--{{note}}-->
<!--</li>-->
<!--</div>-->
<!--</div>-->
<!--<div class="span4">-->
<!--<div ng-switch on="fileType">-->
<!--<div ng-switch-when="image">-->
<!--<img ng-src="{{ fileSrc }}">-->
<!--<a ng-href="{{ fileSrc }}">View full size</a>-->
<!--<a ng-href="{{ originalFileSrc }}" download="{{ fileName }}" style="margin-left: 15px">Download</a>-->
<!--</div>-->
<!--<a ng-switch-when="other" ng-href="{{ fileSrc }}" download="{{ fileName }}">{{ doc.name-->
<!--}}</a>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="row-fluid" style="margin-top: 20px">-->
<!--<button type="button" class="btn btn-primary" ng-click="saveData()" class="btn btn-primary">Save</button>-->
<!--<button type="button" class="btn btn-danger" ng-click="cancel()" class="btn btn-danger">Cancel</button>-->
<!--</div>-->
<!--<hr/>-->

<!--<div class="row-fluid">-->
<!--<div class="span10">-->
<!--<div class="well">-->
<!--<h4>Processes:</h4>-->
<!--<span ng-repeat="p in processes">-->
<!--<li ng-class="{'active_t': process.name == 'Data Analysis:2014-02-10'}"-->
<!--style="display: inline">-->
<!--<button ng-click="show_process(p)" class="btn btn-inverse">{{p.name}}</button>-->
<!--</li> <p><i class="fa fa-long-arrow-right" fa-4x></i></p>-->
<!--</span>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="row-fluid">-->
<!--<div ng-show="show_pr">-->
<!--<div class="span10">-->
<!--<div class="">-->
<!--<div class="well">-->
<!--Process : <span><b>{{process.name}}</b></span><br>-->
<!--Description :<span>{{process.description}}</span> <br>-->
<!--Version:<span>{{process.version}}</span> <br>-->
<!--Notes:-->
<!--<ul ng-repeat="n in process.notes">-->
<!--<li>{{n}}</li>-->
<!--</ul>-->
<!--<br>-->
<!--Runs:-->
<!--<ul ng-repeat="r in process.runs">-->
<!--<li>{{r.started | date:'medium'}} --->
<!--{{r.stopped | date:'medium'}} <br> Error Messages:-->
<!--{{r.error_messages}}-->
<!--</li>-->
<!--</ul>-->
<!--<br>-->


<!--</div>-->

<!--<div class="well">-->
<!--<h5><u>Inputs:</u></h5>-->
<!--<b>Properties:</b><br>-->

<!--<ul style="list-style-position: inside" ng-repeat="f in ip_conditions">-->
<!--<a href="#modalCondition" data-toggle="modal"-->
<!--ng-click="get_mode_condition(f.right)">{{f.right.name}}</a>-->
<!--</ul>-->

<!--<b>Files:</b>-->
<!--<ul style="list-style-position: inside" ng-repeat="f in ip_files">-->
<!--<a href="#/mytools/data/edit/{{f.right.id}}">{{f.right.name}}</a>-->
<!--</ul>-->
<!--</div>-->
<!--<div class="well">-->
<!--<h5><u>Outputs:</u></h5>-->
<!--<b>Properties:</b>-->
<!--<ul style="list-style-position: inside" ng-repeat="f in op_conditions">-->
<!--<a href="#/mytools/data/edit/{{f.right.id}}">{{f.right.name}}</a>-->
<!--</ul>-->
<!--<br>-->
<!--<b>Files:</b>-->
<!--<ul style="list-style-position: inside" ng-repeat="f in op_files">-->
<!--<a href="#/mytools/data/edit/{{f.right.id}}">{{f.right.name}}</a>-->
<!--</ul>-->
<!--</div>-->
<!--</div>-->

<!--</div>-->
<!--<div id="modalCondition" class="modal hide fade" tabindex="-1" role="dialog"-->
<!--aria-labelledby="modalConditionLabel" aria-hidden="true">-->
<!--<div class="modal-header">-->
<!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>-->
<!--<h3 id="modalConditionLabel">{{display_condition.name}}</h3>-->
<!--</div>-->
<!--<div class="modal-body">-->
<!--<div class="block">-->
<!--<label>Name:</label><span>{{display_condition.name}}</span> <br>-->
<!--<label>Description:</label><span>{{display_condition.description}}</span><br>-->
<!--<span ng-if="display_condition.material!={}">-->
<!--<label>Material:</label><span>{{display_condition.material.name}}</span><br>-->
<!--</span>-->
<!--<label>Model:</label>-->

<!--<div ng-repeat="prop in display_condition.model">-->
<!--<label>{{prop.name}}</label> <span>{{prop.value}}</span>-->
<!--<span ng-if="prop.unit!=''">-->
<!--{{prop.unit}}-->
<!--</span>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--<div class="modal-footer">-->
<!--<button class="btn" data-dismiss="modal" aria-hidden="true" class="btn btn-danger">Close</button>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
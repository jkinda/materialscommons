<div ng-controller="toolbarMachines">
    <div class="row">
        <div class="col-sm-2 col-md-2">
            <button class="btn btn-default btn-primary" ng-click="toggleCustom = !toggleCustom">New</button>
        </div>
        <div saved-notification="" message="message"></div>
    </div>
    <div ng-init="toggleCustom = false" ng-show="toggleCustom" class="row">
        <div class="col-sm-6">
            <form name="Form" class="form-horizontal">
                <legend>Create Machine</legend>
                <div upperlevel-object="" bk="bk" doc="doc" edit="false"></div>
                <div df-properties="" default-properties="doc.default_properties"></div>
                <label>Range </label>
                <input class="col-sm-2 form-control" type="number"  ng-model="Form.range"
                       min="5" max="10" validator="range1"/>

                <button ng-click="save(Form)" class="btn btn-default btn-primary">Save</button>
                <button ng-click="clear_machine()" class="btn btn-default btn-danger">Clear</button>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-md-6">
            <legend>List of available machines:</legend>
            <div ng-if="machines_list.length==0">
                <b>No available machines in the database</b>
            </div>
            <paged data="machines_list" current-page="currentDataPage" page-size="10">
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Date Created</th>
                        <th>Details</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="machine in machines_list | orderBy:predicate:reverse | page:currentDataPage:10">
                        <td>{{machine.name}}</td>
                        <td>{{machine.birthtime | toDateString}}</td>
                        <td><a ng-click="moreDetails(machine)">view</a></td>
                    </tr>
                    </tbody>
                </table>
            </paged>
        </div>
        <div class="col-sm-6 col-md-6">
            <form class="form-horizontal" ng-show="machine">
                <legend>{{machine.name}}</legend>
                <div ng-show="flag">
                    No specific details have been entered for {{machine.name}}
                </div>
                <div ng-hide="flag">
                    <div upperlevel-object="" doc="machine" edit="true"></div>
                    <div iterate-properties all-properties="machine.properties"></div>
                </div>
            </form>
        </div>
    </div>

</div>
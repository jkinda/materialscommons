<div ng-controller="provenanceInputsInput">
    <div class="row-fluid">
        {{ doc.model.default }}
        <div ng-show="showForm" class="span8">
            <div class="well">
                <form class="form-horizontal">
                    <div df-properties default-properties="doc.model.default"></div>
                    <hr align="left" width="50%">

                    <div ng-repeat="pv in machine.model.additional">
                        <div class="control-group">
                            <label class="control-label">{{pv.name}}</label>

                            <div class="controls">
                            <span ng-if="pv.value_choice.length!=0">
                                 <select ng-model="pv.value">

                                     <option ng-repeat="val in pv.value_choice"> {{val}}
                                     </option>
                                 </select>
                            </span>
                            <span ng-if="pv.value_choice.length==0">
                                <input type="text" ng-model="pv.value">
                            </span>
                            <span ng-if="pv.unit_choice.length!=0">
                                <select style="width:80px" ng-model="pv.unit">
                                    <option ng-repeat="unit in pv.unit_choice"> {{unit}}
                                    </option>
                                </select>
                            </span>

                            </div>
                        </div>
                    </div>


                    <div class="control-group">
                        <label class="control-label">Additional Properties:</label>

                        <div class="controls">
                            <select ng-model="p_name">
                                <option ng-repeat="each_additional in additional_properties"
                                        value="{{each_additional}}">
                                    {{each_additional.name}}
                                </option>
                            </select>
                            <button ng-click="add_property_to_machine()">add</button>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">Add Custom Properties:</label>

                        <div class="controls">
                            <input ng-model="additional_prop" placeholder="type property name ....."
                                   type="text">
                            <button ng-click="add_property_to_machine()">add</button>
                        </div>
                    </div>

                    <button ng-disabled="!default_properties[0].value" ng-click="save()">Save Machine</button>
                    <button ng-click="clear_machine()">clear additional properties</button>
                </form>

            </div>
        </div>
    </div>
</div>
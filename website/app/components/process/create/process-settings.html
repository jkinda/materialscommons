<div layout="column">
    <h4 class="md-title">Setup</h4>

    <md-content layout-padding>
        <form name="processSettingsForm">
            <div ng-repeat="setting in ctrl.settings">
                <div ng-switch="setting.property._type">

                    <!--------- number --------->
                    <div ng-switch-when="number">
                        <div layout="row" layout-align="start center">
                            <md-input-container class="md-blockx">
                                <label>{{::setting.property.name}}</label>
                                <input type="number"
                                       name="numberInput"
                                       step="any"
                                       ng-required="setting.property.required"
                                       ng-model="setting.property.value">
                            </md-input-container>
                            <span ng-if="setting.property.units.length === 0" class="unit-align">
                                {{::setting.property.unit}}
                            </span>
                            <span ng-if="setting.property.units.length !== 0">
                                <select flex="10" ng-model="setting.property.unit" data-placeholder="Choose"
                                        ng-options="unit for unit in setting.property.units"
                                        ng-required="setting.property.required">
                                </select>
                            </span>
                        </div>
                    </div>

                    <!--------- date --------->
                    <div ng-switch-when="date">
                        <label>{{::setting.property.name}}</label>
                        <md-datepicker ng-model="setting.property.value"></md-datepicker>
                    </div>

                    <!--------- selection --------->
                    <div ng-switch-when="selection">
                        <md-input-container class="md-block">
                            <label>{{::setting.property.name}}</label>
                            <md-select ng-model="setting.property.value">
                                <md-option ng-value="choice"
                                           ng-repeat="choice in setting.property.choices" ng-selected="$first">
                                    {{choice.name}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                        {{setting.property.value}}
                        <!--<select ng-model="setting.property.value"-->
                        <!--data-placeholder="Choose"-->
                        <!--name="selectInput"-->
                        <!--ng-options="choice as choice.name for choice in setting.property.choices track by choice.value"-->
                        <!--ng-required="setting.property.required">-->
                        <!--</select>-->
                        <div ng-if="setting.property.value.name === 'Other'">
                            <md-input-container class="md-block">
                                <input type="text"
                                       placeholder="{{setting.attribute.name}}..."
                                       ng-model="setting.property.value.value">
                            </md-input-container>
                        </div>
                    </div>

                    <!--------- string --------->
                    <div ng-switch-when="string">
                        <md-input-container class="md-block">
                            <label>{{::setting.property.name}}</label>
                            <input type="text" name="stringInput"
                                   ng-required="setting.property.required"
                                   ng-model="setting.property.value">
                        </md-input-container>
                    </div>

                    <!--------- unknown type --------->
                    <div ng-switch-default>
                        <span>Unknown template type {{setting.property._type}}</span>
                    </div>
                </div>
            </div>
        </form>
    </md-content>
</div>
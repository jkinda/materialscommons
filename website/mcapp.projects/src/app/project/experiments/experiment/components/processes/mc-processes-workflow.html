<div layout="row" style="margin-right:15px;">
    <div flex="65" style="min-height:75vh">
        <mc-processes-workflow-graph ng-if="$ctrl.showGraphView"
                                     processes="$ctrl.processes"
                                     highlight-processes="$ctrl.highlightProcesses">
        </mc-processes-workflow-graph>
        <mc-processes-workflow-outline ng-if="!$ctrl.showGraphView"
                                       highlight-processes="$ctrl.highlightProcesses"
                                       processes="$ctrl.processes"></mc-processes-workflow-outline>
    </div>
    <span flex style="border-left: solid 2px grey; margin-left: 8px"></span>
    <div flex="30">
        <div layout="row">
            <a ng-click="$ctrl.showGraphView = true"
               ng-class="{'view-selected': $ctrl.showGraphView}">
                <i class="fa fa-fw fa-sitemap" style="margin-left: 3px"></i>
            </a>
            <a ng-click="$ctrl.showGraphView = false"
               ng-class="{'view-selected': !$ctrl.showGraphView}">
                <i class="fa fa-fw fa-th-list" style="margin-left: 3px"></i>
            </a>
        </div>
        <md-tabs md-selected="$ctrl.currentTab" md-dynamic-height md-border-bottom>
            <md-tab ng-if="false">
                <md-tab-label>
                    <span><i class="fa fa-fw fa-desktop"></i>Display</span>
                </md-tab-label>
                <md-tab-body>
                    <md-content style="max-height: 70vh">
                        <h3 class="md-title">Show</h3>
                        <md-radio-group ng-model="$ctrl.displayGraph" layout="column"
                                        ng-change="$ctrl.showSelectedGraph()">
                            <md-radio-button value="all_processes">All Processes</md-radio-button>
                            <md-radio-button value="only_transformations">Only Transformation Processes
                            </md-radio-button>
                            <md-radio-button value="sample_transformations">Sample Transformations</md-radio-button>
                        </md-radio-group>
                        <md-list ng-if="false">
                            <md-list-item ng-repeat="sample in $ctrl.samples">
                                <md-checkbox ng-model="sample.selected"
                                             ng-change="$ctrl.filterOnSample(sample)"></md-checkbox>
                                <p>{{::sample.name}} (<i class="fa fa-fw fa-code-fork"></i>{{::sample.processes.length}})
                                </p>
                            </md-list-item>
                        </md-list>
                    </md-content>
                </md-tab-body>
            </md-tab>
            <md-tab>
                <md-tab-label>
                    <span><i class="fa fa-fw fa-plus"></i>Add</span>
                </md-tab-label>
                <md-tab-body>
                    <md-content style="max-height: 70vh" class="margin-left-15">
                        <h3 class="md-title">Add To Workflow</h3>
                        <mc-workflow-process-templates
                                on-selected="$ctrl.addProcess(templateId, processId)"></mc-workflow-process-templates>
                    </md-content>
                </md-tab-body>
            </md-tab>
            <md-tab>
                <md-tab-label>
                    <span><i class="fa fa-fw fa-gears"></i>details</span>
                </md-tab-label>
                <md-tab-body>
                    <div ng-show="!$ctrl.selectedProcess">
                        No process selected
                    </div>
                    <div ng-show="$ctrl.selectedProcess">
                        <md-content style="max-height: 70vh">
                            <div layout="row" layout-margin layout-align="end">
                                <md-button class="md-primary" ng-if="!$ctrl.selectedProcess.hasChildren"
                                           ng-click="$ctrl.deleteNodeAndProcessConfirm()">
                                    Delete graph Node
                                </md-button>
                                <md-button class="md-warn" ng-disabled="true" ng-if="$ctrl.selectedProcess.hasChildren">
                                    To delete: remove 'children' first
                                </md-button>
                            </div>
                            <mc-process-template process="$ctrl.selectedProcess"
                                                 on-change="$ctrl.onChange()">
                            </mc-process-template>
                        </md-content>
                    </div>
                </md-tab-body>
            </md-tab>
            <md-tab>
                <md-tab-label>
                    <span><i class="fa fa-fw fa-filter""></i>filters</span>
                </md-tab-label>
                <md-tab-body>
                    filters here
                </md-tab-body>
            </md-tab>
        </md-tabs>
    </div>
</div>
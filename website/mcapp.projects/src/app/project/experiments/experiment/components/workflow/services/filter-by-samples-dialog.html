<md-dialog flex="60" style="max-height:85vh">
    <md-toolbar layout="row">
        <div layout-margin>
            Filter process by samples
        </div>
    </md-toolbar>
    <md-dialog-content layout-margin>
        <md-content>
            <input type="text" placeholder="Filter samples..."
               class="mc-input-as-line padding-top-10" ng-model="$ctrl.filterSamplesListBy">
            <md-content style="max-height:30vh" class="padding-top-10" flex="60">
                <md-list>
                    <md-subheader class="md-no-sticky">Samples in experiment</md-subheader>
                    <md-list-item class="md-2-line"
                                  ng-repeat="sample in $ctrl.allSamples | orderBy:'name' | filter:$ctrl.filterSamplesListBy">
                        <md-checkbox ng-model="sample.selected" ng-change="$ctrl.addToFilter(sample)"></md-checkbox>
                        <div class="md-list-item-text">
                            <h3 class="md-title">{{sample.name}}</h3>
                            <!--<p>{{user.email}}</p>-->
                        </div>
                    </md-list-item>
                </md-list>
            </md-content>
            <h3 class="padding-top-20 md-title">Samples To Filter On</h3>

            <md-table-container>
                <table md-table>
                    <thead md-head>
                    <tr md-row>
                        <th md-column>Sample</th>
                        <th md-column># Processes</th>
                        <th md-column>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr md-row class="md-row-hover" ng-repeat="sample in $ctrl.selectedSamples | orderBy: 'name'">
                        <td md-cell>{{sample.name}}</td>
                        <td md-cell>{{sample.processes.length}}</td>
                        <td md-cell>
                            <md-button ng-click="$ctrl.removeFromFilter(sample)" class="md-warn">
                                Remove From Filter
                            </md-button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </md-table-container>
        </md-content>
    </md-dialog-content>
    <md-dialog-actions layout="row">
        <md-button class="md-warn" ng-click="$ctrl.cancel()">Cancel</md-button>
        <md-button class="md-primary" ng-click="$ctrl.done()">Done</md-button>
    </md-dialog-actions>
</md-dialog>
<div>
    <mc-add-comment-button on-add="$ctrl.addComment()" ng-if="$ctrl.loggedin">
    </mc-add-comment-button>
    <mc-refresh-comments-button on-refresh="$ctrl.refreshCommentsList()">
    </mc-refresh-comments-button>
    <div ng-if="!$ctrl.loggedin">
        <i>You must be logged in to add or modify comments</i>
    </div>
    <div ng-if="($ctrl.comments.length == 0)">
        <i>There are no comments for this {{$ctrl.targetType}}</i>
    </div>
    <md-list flex ng-if="($ctrl.comments.length > 0)">
        <md-header>Comments ({{$ctrl.comments.length}})</md-header>
        <mc-comment-item
                comment="comment"
                ng-repeat="comment in $ctrl.comments"
                on-add="$ctrl.addComment()"
                on-edit="$ctrl.editComment(id, text)"
                on-delete="$ctrl.deleteComment(id)"
        ></mc-comment-item>
    </md-list>
    <mc-add-comment-button action="$ctrl.addComment()" ng-if="$ctrl.loggedin && ($ctrl.comments.length > 4)">
    </mc-add-comment-button>
    <mc-refresh-comments-button action="$ctrl.refreshCommentsList()" ng-if="($ctrl.comments.length > 4)">
    </mc-refresh-comments-button>
</div>
<div layout-margin>
    <h4 class="md-title">Dataset: {{$ctrl.dataset.title}}</h4>
    <p class="md-accent" ng-if="!$ctrl.isAuthenticated">
        You must log in (and refresh page) to mark any dataset as useful
    </p>
    <p class="md-accent" ng-if="$ctrl.isAuthenticated">
        <span ng-if="!$ctrl.markedAsUseful">
            <span ng-if="$ctrl.othersMarkedAsUseful">
                Marked as useful by {{$ctrl.otherCount()}}
                <a ng-click="$ctrl.onShowOthersUeful()">{{$ctrl.otherWord()}}</a>.
            </span>
            Mark this dataset as <a ng-click="$ctrl.onMarkAsUseful()">useful</a>.
        </span>
        <span ng-if="$ctrl.markedAsUseful">
             <a ng-click="$ctrl.onUnmarkAsUseful()">Unmark</a>.
            (You
            <span ng-if="$ctrl.othersMarkedAsUseful">
                and {{$ctrl.otherCount()}}
                <a ng-click="$ctrl.onShowOthersUeful()">{{$ctrl.otherWord()}}</a>
            </span>
            have marked this dataset as Useful.)
        </span>
    </p>
    <md-tabs md-selected="$ctrl.currentTab" md-stretch-tabs md-dynamic-height>
        <md-tab>
            <md-tab-label>Overview</md-tab-label>
            <md-tab-body>
                <mc-dataset-overview-summary dataset="$ctrl.dataset"></mc-dataset-overview-summary>
            </md-tab-body>
        </md-tab>

        <md-tab>
            <md-tab-label>Workflow</md-tab-label>
            <md-tab-body>
                <mc-dataset-workflow dataset="$ctrl.dataset" ng-if="$ctrl.currentTab === 1"></mc-dataset-workflow>
            </md-tab-body>
        </md-tab>

        <md-tab>
            <md-tab-label>Files</md-tab-label>
            <md-tab-body>
                <mc-dataset-overview-files dataset="$ctrl.dataset">
                </mc-dataset-overview-files>
            </md-tab-body>
        </md-tab>

        <md-tab>
            <md-tab-label>Comments</md-tab-label>
            <md-tab-body>
                <mc-comments-list target="$ctrl.dataset"></mc-comments-list>
            </md-tab-body>
        </md-tab>
    </md-tabs>
</div>
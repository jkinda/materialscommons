<div>
    <div ng-repeat="aset in $ctrl.state.attributeSets">
        <h3 class="md-subhead">
            Attribute Set: {{aset.id}}

        </h3>
        <div>
            <label>Processes:</label>
            <a ui-sref="project.process({process_id: process.id})"
               ng-repeat="process in aset.processes" class="margin-left-10">
                {{process.name}}
            </a>
        </div>
        <label>
            Attributes
            <md-button class="md-primary" ng-click="$ctrl.handleAddAttribute(aset)">Add Attribute</md-button>
        </label>
        <md-table-container ng-if="aset.attributes.length">
            <table md-table>
                <thead md-head>
                <tr md-row>
                    <th md-column>Name</th>
                    <th md-column>Best Measure</th>
                    <th md-column>Unit</th>
                </tr>
                </thead>
                <tbody md-body>
                <tr md-row ng-repeat="attr in aset.attributes">
                    <td md-cell><a ng-click="$ctrl.showMeasurements(attr)">{{attr.name}}</a></td>
                    <td md-cell>
                        <span ng-show="attr.best_measure === 'None'">None</span>
                        <pre ng-show="attr.best_measure !== 'None'">{{attr.best_measure.value | json}}</pre>
                    </td>
                    <td md-cell>{{attr.best_measure === 'None' ? "N/A" : attr.best_measure.unit}}</td>
                </tr>
                </tbody>
            </table>
        </md-table-container>
        <h3 class="md-subhead" ng-if="aset.attributes.length === 0">No attributes</h3>
        <hr ng-show="$index !== $ctrl.state.attributeSets.length - 1">
    </div>
</div>
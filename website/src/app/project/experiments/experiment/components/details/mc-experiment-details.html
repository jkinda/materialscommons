<div layout="row">
    <md-content flex layout="column" layout-align="start stretch"
                style="max-height:80vh; min-height: 68vh; padding-top:4px; margin-right:10px">
        <div layout="row" layout-align="end center">
            <md-button class="md-primary" ng-click="$ctrl.publishExperiment()">Publish</md-button>
        </div>

        <div layout="row">
            <md-input-container flex="30">
                <label>Name</label>
                <input type="text"
                       ng-model="$ctrl.experiment.name"
                       ng-model-options="{debounce: 500}"
                       ng-change="$ctrl.updateName()">
            </md-input-container>
            <md-input-container flex="70">
                <label>Description</label>
                <input type="text"
                       ng-model="$ctrl.experiment.description"
                       ng-model-options="{debounce: 500}"
                       ng-change="$ctrl.updateDescription()">
            </md-input-container>
        </div>

        <div layout="row" flex layout-align="start center">
            <label flex="30">Goals</label>
            <md-button ng-click="$ctrl.add('goals')" class="md-primary">
                <i class="fa fa-fw fa-plus"></i>
                add goal
            </md-button>
        </div>
        <md-list-item ng-repeat="goal in $ctrl.experiment.goals track by $index">
            <md-input-container flex="90">
                <label> Goal {{$index + 1}}</label>
                <input type="text"
                       ng-model="goal"
                       ng-model-options="{debounce: 500}"
                       ng-change="$ctrl.update('goal', goal, $index+1)">
            </md-input-container>
            <md-input-container flex="10">
                <i ng-click="$ctrl.remove('goal',goal, $index)" class="pull-right fa fa-close"></i>
            </md-input-container>
        </md-list-item>
        <md-divider class="divider-extra"></md-divider>

        <div layout="row" flex layout-align="start center">
            <label flex="30">Collaborators</label>
            <md-button ng-click="$ctrl.add('collaborators')" class="md-primary">
                <i class="fa fa-fw fa-plus"></i>
                add Collaborator
            </md-button>
        </div>
        <md-list-item ng-repeat="coll in $ctrl.experiment.collaborators track by $index">
            <md-input-container flex="90">
                <label> Collaborator {{$index + 1}}</label>
                <input type="text"
                       ng-model="coll"
                       ng-model-options="{debounce: 500}"
                       ng-change="$ctrl.update('collaborator', coll, $index+1)">
            </md-input-container>
            <md-input-container flex="10">
                <i ng-click="$ctrl.remove('collaborator', coll, $index)" class="pull-right fa fa-close"></i>
            </md-input-container>
        </md-list-item>

        <div layout="row" flex layout-align="start center">
            <label flex="30">Funding</label>
            <md-button ng-click="$ctrl.add('funding')" class="md-primary">
                <i class="fa fa-fw fa-plus"></i>
                add Funding
            </md-button>
        </div>
        <md-list-item ng-repeat="fund in $ctrl.experiment.funding track by $index">
            <md-input-container flex="90">
                <label> Funder {{$index + 1}}</label>
                <input type="text"
                       ng-model="fund"
                       ng-model-options="{debounce: 500}"
                       ng-change="$ctrl.update('funder', fund, $index+1)">
            </md-input-container>
            <md-input-container flex="10">
                <i ng-click="$ctrl.remove('funder', fund, $index)" class="pull-right fa fa-close"></i>
            </md-input-container>
        </md-list-item>
        <md-divider class="divider-extra"></md-divider>

        <div layout="row" flex layout-align="start center">
            <label flex="30">Current Working Papers</label>
            <md-button ng-click="$ctrl.add('working_papers')" class="md-primary">
                <i class="fa fa-fw fa-plus"></i>
                add Paper
            </md-button>
        </div>
        <md-list-item ng-repeat="paper in $ctrl.experiment.working_papers track by $index">
            <md-input-container flex="90">
                <label> Paper {{$index + 1}}</label>
                <input type="text"
                       ng-model="paper"
                       ng-model-options="{debounce: 500}"
                       ng-change="$ctrl.update('paper', paper, $index+1)">
            </md-input-container>
            <md-input-container flex="10">
                <i ng-click="$ctrl.remove('paper', paper, $index)" class="pull-right fa fa-close"></i>
            </md-input-container>
        </md-list-item>

        <md-divider class="divider-extra"></md-divider>
        <div layout="row" flex layout-align="start center">
            <label flex="30">Publications From Experiment</label>
            <md-button class="md-primary">
                <i class="fa fa-fw fa-plus"></i>
                add publication
            </md-button>
        </div>

        <div layout="row" flex layout-align="start center">
            <label flex="30">Citations</label>
            <md-button class="md-primary">
                <i class="fa fa-fw fa-plus"></i>
                add citation
            </md-button>
        </div>

        <div ng-if="false" layout="row" flex layout-align="start center">
            <label flex="30">Citings</label>
            <md-button class="md-primary">
                <i class="fa fa-fw fa-refresh"></i>
                Refresh
            </md-button>
        </div>

    </md-content>
    <md-sidenav flex="45" md-is-locked-open="true">
            <textarea ckeditor="editorOptions"
                      ng-model="$ctrl.experiment.note"
                      ng-model-options="{debounce: 1000}"
                      ng-change="$ctrl.updateNote()">
            </textarea>
    </md-sidenav>
</div>
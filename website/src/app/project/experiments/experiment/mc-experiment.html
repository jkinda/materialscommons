<div style="overflow: auto" ng-if="$ctrl.showStepMaximized()">
    <mc-experiment-step-details step="$ctrl.currentStep"></mc-experiment-step-details>
</div>

<div ng-if="!$ctrl.showStepMaximized()" layout="column" flex layout-margin style="overflow: hidden">
    <div layout="row" flex>
        <md-sidenav flex="30" md-is-locked-open="$ctrl.showSidebar" style="max-height: 82vh; margin-right: 8px">
            <span style="text-align: center" class="md-subhead">Details</span>
            <mc-experiment-sidebar-details current-step="$ctrl.currentStep">
            </mc-experiment-sidebar-details>
        </md-sidenav>

        <div layout="column" flex md-whiteframe>
            <md-toolbar>
                <!--<md-menu-bar>-->
                <!--<md-menu>-->
                <!--<md-button ng-click="$mdOpenMenu()">A</md-button>-->
                <!--<md-menu-content>-->
                <!--<md-menu-item><md-button>b</md-button></md-menu-item>-->
                <!--</md-menu-content>-->
                <!--</md-menu>-->
                <!--</md-menu-bar>-->
                <div layout="row" layout-align="space-between center">
                    <div>
                        <md-button class="md-primary" ng-click="$ctrl.moveLeft()">
                            <span class="text-white"><i class="fa fa-fw fa-arrow-left"></i>Left</span>
                        </md-button>

                        <md-button class="md-primary text-white" ng-click="$ctrl.moveRight()">
                            <span class="text-white"><i class="fa fa-fw fa-arrow-right"></i>Right</span>
                        </md-button>

                        <md-button class="md-primary text-white" ng-click="$ctrl.moveUp()">
                            <span class="text-white"><i class="fa fa-fw fa-arrow-up"></i>Up</span>
                        </md-button>

                        <md-button class="md-primary text-white" ng-click="$ctrl.moveDown()">
                            <span class="text-white"><i class="fa fa-fw fa-arrow-down"></i>Down</span>
                        </md-button>
                    </div>
                    <div>
                        <md-button class="md-primary text-white" ng-click="$ctrl.expandAll()">
                            <span class="text-white">Expand all</span>
                        </md-button>
                        <md-button class="md-primary" ng-click="$ctrl.collapseAll()">
                            <span class="text-white">Collapse all</span>
                        </md-button>
                        <md-button class="md-primary text-white" ng-click="$ctrl.showSidebar = !$ctrl.showSidebar">
                            <span class="text-white" ng-if="$ctrl.showSidebar">Hide Sidebar</span>
                            <span class="text-white" ng-if="!$ctrl.showSidebar">Show Sidebar</span>
                        </md-button>
                    </div>
                </div>
            </md-toolbar>

            <div flex>
                <mc-experiment-outline current-step="$ctrl.currentStep"
                                       current-node="$ctrl.currentNode"
                                       experiment="$ctrl.experiment">
                </mc-experiment-outline>
            </div>
        </div>
    </div>
</div>
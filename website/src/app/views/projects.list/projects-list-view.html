<md-content layout="column" flex>
    <div layout="row" flex="100" layout-margin>
        <div layout="column" flex>
            <div layout="row" layout-align="end center">
                <!--<hello-world name="$ctrl.mcuser.fullname"></hello-world>-->
                <div layout="column" layout-align="stretch" flex="30" ng-show="!$ctrl.state.user.demo_installed">
                    <md-button ng-click="$ctrl.createDemoProject()"
                               class="md-warn md-raised">
                        Add Demo Project
                    </md-button>
                </div>
                <md-checkbox ng-model="$ctrl.state.hideAddDemo" ng-change="$ctrl.hideDemoProject()" aria-label="hide demo"
                             ng-show="!$ctrl.state.user.demo_installed">
                    Don't show this again
                </md-checkbox>
                <span flex="5"></span>
                <md-button class="md-primary md-raised" ng-click="$ctrl.createNewProject()">create project</md-button>
                <span flex="5"></span>
                <md-button class="md-raised md-primary" ng-click="$ctrl.refreshProjects()">
                    <md-tooltip>Refresh projects from server</md-tooltip>
                    <i class="fa fa-fw fa-refresh"></i>Sync
                </md-button>
                <span flex="5"></span>
                <mc-show-json object="$ctrl.state.projects"></mc-show-json>
            </div>
            <div layout="row" layout-align="center">
                <md-button class="md-warn" ng-click="$ctrl.state.query = ''">clear search</md-button>
                <input ng-model="$ctrl.state.query" ng-model-options="{debounce:200}"
                       flex="30"
                       placeholder="Search projects..." type="text"
                       class="mc-input-as-line margin-left-15 md-subhead">
            </div>
            <div layout="column" flex>
                <div layout-margin>
                    <h3 class="md-title">Projects ({{$ctrl.state.projects.length}}):</h3>
                    <mc-projects-list projects="$ctrl.state.projects" query="$ctrl.state.query" style="margin:0"></mc-projects-list>
                </div>
                <div style="margin-bottom: 20px"><br/></div>
            </div>
        </div>
    </div>
</md-content>